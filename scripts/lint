#!/usr/bin/env bash
export UV_LINK_MODE=copy

set -e

cd "$(dirname "$0")/.."

echo "ğŸ¼ [lint] Starting linting in $(pwd)"

# Run ruff format and check
echo "ğŸ§¹ [lint] Running ruff format..."
uv run ruff format .
echo "âœ… [lint] Formatting complete."

echo "ğŸ” [lint] Running ruff check with --fix..."
uv run ruff check . --fix
echo "âœ… [lint] Linting complete."

# Run black
echo "ğŸ§¹ [lint] Running black..."
uv run black ./custom_components/panda_status/
echo "âœ… [lint] Black formatting complete."

echo "ğŸ‰ [lint] Linting finished."
